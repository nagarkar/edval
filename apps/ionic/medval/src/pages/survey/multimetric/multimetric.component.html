<mdval-header [home]="'survey'"></mdval-header>
<ion-content padding text-center>
  <ion-fab class="circleicon" *ngIf="done" right middle>
    <button (click)="navigateToNext()" ion-fab><ion-icon name="fastforward"></ion-icon></button>
  </ion-fab>
  <ion-grid text-center class="m-t-3">
    <ion-row>
      <ion-col>
        <ion-row class="separator-bottom">
          <ion-label style="margin: 0; font-size: 1.75em;">{{message | sReplacer}}<br/><span style="font-size: .75em">(tap or slide to choose)</span></ion-label>
        </ion-row>
        <ion-row style="padding:.5em .5em 0 .5em" *ngFor="let metric of displayMetrics; let idx = index">
          <ion-col>
            <ion-card text-center *ngIf="metric.isNpsType()" style="font-size: 1.7rem">
              <span>{{metric.properties.positiveImpact | sReplacer}}</span>
              <ion-range
                style="padding-top: 1.1em"
                (tap)="setValue($event, metric)"
                [(ngModel)]="metricValues[idx]"
                (ionChange)="setValue($event, metric)"
                min="1"
                pin=true
                max="{{metric.properties.definition.npsType.range}}"
                snaps="true"
                debounce=3000
                color="revvolve2">

                <ion-label style="font-size: .8em; padding-right: 1em;color:darkolivegreen" range-left>Strongly<br/>Disagree</ion-label>
                <ion-label style="font-size: .8em; padding-left: 1em;color:darkolivegreen" range-right>Strongly<br/>Agree</ion-label>
              </ion-range>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row style="position: absolute; display: flex; bottom: -3.5em;">
      <ion-col>
        <progress-bar [progress]="progress"></progress-bar>
      </ion-col>
      <ion-col>
        <button small ion-button (click)="cancelAndRestart()">Cancel & Restart</button>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
