<mdval-header *ngIf="isEdit" title="Account Information"></mdval-header>
<mdval-header *ngIf="!isEdit" title="Setup New Administrator Account and Organization"></mdval-header>
<ion-content class="rev-form" padding>
  <div class="m-t-4" *ngIf="!isEdit">
    <ion-title>Please provide an administrator username and email address.</ion-title>
    <h6>We will send you an email with a temporary password for this username.</h6>
    <ion-grid>
      <ion-row>
        <ion-col width-33>
          <ion-label item-left>Username</ion-label>
        </ion-col>
        <ion-col>
          <ion-input #focusField item-right [(ngModel)]="username"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label item-left>Phone Number </ion-label>
        </ion-col>
        <ion-col>
          <ion-input item-right placeholder="(255) 555-3333" [ngModel]="phoneNumber | phoneFormat" (ngModelChange)="phoneNumber=$event"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label item-left>Email Address</ion-label>
        </ion-col>
        <ion-col>
          <ion-input item-right [(ngModel)]="email"></ion-input>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
  <div class="m-t-2">
    <div *ngIf="!isEdit">
      <ion-title>Please provide information about your organization. All fields are required.</ion-title>
    </div>
    <ion-grid>
      <ion-row>
        <ion-col width-33>
          <ion-label>Organization ID</ion-label>
        </ion-col>
        <ion-col>
          <ion-input [disabled]="isEdit" [(ngModel)]="account.customerId"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label>Organization Type</ion-label>
        </ion-col>
        <ion-col>
          <ion-select class="rev-select" [disabled]="isEdit" [(ngModel)]="account.properties.verticalId">
            <div *ngFor="let vertical of verticals">
              <ion-option value="{{vertical.key}}" selected="{{account.properties.verticalId == vertical.key}}">{{vertical.value}}</ion-option>
            </div>
          </ion-select>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label>Organization Name</ion-label>
        </ion-col>
        <ion-col>
          <ion-input placeholder="Acme Inc." [(ngModel)]="account.properties.customerName"></ion-input>
          <div *ngIf="account.isInvalid()" class="alert">Required</div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label>Primary Contact Name</ion-label>
        </ion-col>
        <ion-col>
          <ion-input placeholder="The responsible employee or the owner"
               [(ngModel)]="account.properties.contactName"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
          <ion-label>Location Address</ion-label>
        </ion-col>
        <ion-col>
          <ion-input placeholder="Street Line 1" [(ngModel)]="account.properties.address.street1"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col width-33>
        </ion-col>
        <ion-col>
          <ion-input placeholder="Street Line 2" [(ngModel)]="account.properties.address.street2"></ion-input>
        </ion-col>
      </ion-row>
      <ion-row class="group-fields">
        <ion-col width-33></ion-col>
        <ion-col>
          <ion-input placeholder="City" [(ngModel)]="account.properties.address.city"></ion-input>
        </ion-col>
        <ion-col>
          <ion-select class="rev-select" [(ngModel)]="account.properties.address.state">
            <ion-option *ngFor="let state of states"
                        [value]="state.key" [selected]="account.properties.address.state == state.key">{{state.value}}
            </ion-option>
          </ion-select>
        </ion-col>
        <ion-col>
          <ion-input placeholder="Zip" [(ngModel)]="account.properties.address.zip"></ion-input>
        </ion-col>
      </ion-row>
      <div *ngIf="isEdit">
        <ion-row class="border-around-text">
          <ion-col width-20>
            <ion-label item-left>Spinwheel Game</ion-label>
          </ion-col>
          <ion-col>
            <ion-grid>
              <ion-row>
                <ion-col width-30>
                  <ion-label (tap)="showHelp('SWEEPSTAKES_SHOW_WHEEL')">Enable Game (?)</ion-label>
                  <ion-toggle [(ngModel)]="account.properties.configuration.SWEEPSTAKES_SHOW_WHEEL"></ion-toggle>
                </ion-col>
                <ion-col>
                  <ion-label (tap)="showHelp('SWEEPSTAKES_AWARD_AMOUNT')" >Award Amount(?)</ion-label>
                  <ion-input type="number" [(ngModel)]="account.properties.configuration.SWEEPSTAKES_AWARD_AMOUNT"></ion-input>
                </ion-col>
                <ion-col>
                  <ion-label (tap)="showHelp('SWEEPSTAKES_COST_PER_USE')" >Spend/Patient (?)</ion-label>
                  <ion-input type="number" [(ngModel)]="account.properties.configuration.SWEEPSTAKES_COST_PER_USE"></ion-input>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
        </ion-row>
        <ion-row class="border-around-text">
          <ion-col width-20>
            <ion-label item-left (tap)="showHelp('REVIEW_URL')">Review Urls (?)</ion-label>
          </ion-col>
          <ion-col>
            <ion-grid>
              <ion-row>
                <ion-col width-20>
                  <ion-label (tap)="showHelp('REVIEW_URL_FACEBOOK')" item-left>Facebook Url (?)</ion-label>
                </ion-col>
                <ion-col>
                  <ion-input type="url" item-right [(ngModel)]="account.properties.configuration.REVIEW_URL_FACEBOOK"></ion-input>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col width-20>
                  <ion-label (tap)="showHelp('REVIEW_URL_GOOGLE')" item-left>Google Url (?)</ion-label>
                </ion-col>
                <ion-col>
                  <ion-input type="url" item-right [(ngModel)]="account.properties.configuration.REVIEW_URL_GOOGLE"></ion-input>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col width-20>
                  <ion-label (tap)="showHelp('REVIEW_URL_YELP')" item-left>Yelp Url (?)</ion-label>
                </ion-col>
                <ion-col>
                  <ion-input type="url"  item-right [(ngModel)]="account.properties.configuration.REVIEW_URL_YELP"></ion-input>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
        </ion-row>
        <ion-row class="border-around-text">
          <ion-col width-20>
            <ion-label item-left>Other Configuration</ion-label>
          </ion-col>
          <ion-col>
            <ion-grid>
              <ion-row>
                <ion-col width-30>
                  <ion-label (tap)="showHelp('SHOW_JOKES_ON_THANK_YOU_PAGE')">Selective Humor(?)</ion-label>
                  <ion-toggle [(ngModel)]="account.properties.configuration.SHOW_JOKES_ON_THANK_YOU_PAGE"></ion-toggle>
                </ion-col>
                <ion-col width-30>
                  <ion-label (tap)="showHelp('CHIME_INTERVAL')">Chime Interval(?)</ion-label>
                  <ion-input type="number" [(ngModel)]="account.properties.configuration.CHIME_INTERVAL"></ion-input>
                </ion-col>
                <ion-col width-30>
                  <ion-label (tap)="showHelp('SPEAK_GREETING')" item-left>Thank you voice(?)</ion-label>
                  <ion-toggle [(ngModel)]="account.properties.configuration.SPEAK_GREETING"></ion-toggle>
                </ion-col>
                <!--ion-col width-30>
                  <ion-label (tap)="showHelp('SPEAK_GREETING_RATE')" item-left>Voice Speed(?)</ion-label>
                  <ion-input type="number" [(ngModel)]="account.properties.configuration.SPEAK_GREETING_RATE"></ion-input>
                </ion-col-->
              </ion-row>
            </ion-grid>
          </ion-col>
        </ion-row>
      </div>
    </ion-grid>
  </div>
  <div padding text-center>
    <button [disabled]="isInvalid()" ion-button color="revvolve" type="submit"
            (tap)="navigate()">{{isEdit? 'Done' : 'Create Account'}}</button>
  </div>
</ion-content>
